# 🧠 Agent Skill 從使用到原理，一次講清

> **影片資訊**
> - 📺 平台：B站
> - 🔗 連結：https://www.bilibili.com/video/BV1cGigBQE6n
> - 👤 UP主：马克的技术工作坊
> - ⏱️ 時長：18 分鐘
> - 📅 發布：2026-01-01
> - 🏷️ 分類：AI 工具、Agent Skill、Claude Code

---

## 📝 核心摘要

深入解析 **Agent Skill** 的三層漸進式加載架構，以及與 MCP 的本質區別。Skill 教模型「怎麼做」，MCP 給模型「數據」。

---

## 🏗️ Agent Skill 三層架構

### 架構圖
```
┌─────────────────────────────────────────┐
│  第一層：元數據層（始終加載）              │
│  - 所有 Skill 的名稱和描述                │
│  - 模型每次回答前都會看這層               │
│  - 決定用戶問題是否與某個 Skill 匹配       │
└─────────────────────────────────────────┘
                    ↓ 匹配後
┌─────────────────────────────────────────┐
│  第二層：指令層（按需加載）               │
│  - SKILL.md 中除名稱描述外的內容          │
│  - 只有匹配時才加載                      │
└─────────────────────────────────────────┘
                    ↓ 需要時
┌─────────────────────────────────────────┐
│  第三層：資源層（按需中的按需）            │
│  - Reference：被讀取，佔用上下文          │
│  - Script：被執行，不佔用上下文           │
└─────────────────────────────────────────┘
```

---

## 🔍 Reference vs Script 對比

| 類型 | 行為 | 上下文消耗 | 適用場景 |
|------|------|-----------|----------|
| **Reference** | 讀取內容 | ✅ 消耗 Token | 知識庫、模板 |
| **Script** | 執行代碼 | ❌ 幾乎為零 | 業務邏輯、API 調用 |

### Script 的關鍵特性
> 「哪怕你的腳本寫了一萬行複雜業務邏輯，消耗的上下文也幾乎為零。Cloud Code 只關心腳本的**執行方法**和**運行結果**，不會讀取代碼內容。」

⚠️ **注意**：如果沒把執行方法說清楚，Cloud Code 還是可能去看代碼

---

## ⚔️ Agent Skill vs MCP

### 官方定義
> **MCP connects Cloud to data; Skills teach Cloud what to do with data**

| 對比 | MCP | Agent Skill |
|------|-----|-------------|
| 本質 | 獨立運行的程序 | 說明文檔 |
| 功能 | 給模型**數據** | 教模型**怎麼處理** |
| 例子 | 查詢銷售記錄、讀取物流狀態 | 彙總格式、報告必須包含的內容 |

### 能做 ≠ 適合做
> 「Agent Skill 也能寫代碼連數據，但**能幹不代表適合幹**。」

- **代碼安全性**：MCP > Skill
- **代碼穩定性**：MCP > Skill
- **輕量腳本**：Skill 適合
- **複雜邏輯**：MCP 適合

### 最佳實踐
很多場景需要 **Skill + MCP 結合使用**：
- MCP 負責數據連接
- Skill 負責處理邏輯

---

## 💡 實戰範例：會議總結助手

### 流程
1. 用戶請求上傳會議內容
2. Cloud Code 識別匹配「會議總結助手」Skill
3. 請求使用 AS_GO（Skill 腳本）
4. 執行上傳腳本（不讀取腳本內容）
5. 輸出總結並上傳成功

### 按需加載驗證
- 會議內容與「財務提醒」無關
- Cloud Code **沒有**讀取「集團財務策略」Reference
- 結果中也沒有財務相關內容
- ✅ 驗證了 Reference 是按需加載的

---

## 🔑 關鍵詞
`Agent Skill` `MCP` `漸進式加載` `Reference` `Script` `Claude Code` `上下文優化`

---

## 📌 個人筆記

這個視頻的核心價值：

1. **三層架構很清晰**：元數據 → 指令 → 資源
2. **Script 不佔上下文**：這是巨大的優勢！
3. **Skill vs MCP 定位**：
   - MCP = 數據連接器
   - Skill = 處理教程

最佳實踐：複雜場景用 MCP + Skill 組合拳。

*整理日期：2026-02-14*
